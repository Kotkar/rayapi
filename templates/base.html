<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />

  <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame 
       Remove this if you use the .htaccess -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

  <title>base</title>
  <meta name="description" content="" />
  <meta name="author" content="Gaurav Kotkar" />

  <meta name="viewport" content="width=device-width; initial-scale=1.0" />

  <!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  <script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
	<script type="text/javascript">
		var xhr = new XMLHttpRequest();
		console.log('Ready State before call to Open - ' + xhr.readyState);
		// xhr.open('GET', 'https://patients.apiary-mock.com/patients');
		xhr.open('GET', '/patients/');
		console.log('Ready State after call to Open - ' + xhr.readyState);
		xhr.onreadystatechange = function () {
		  if (this.readyState == 4) {
		  	console.log(this.readyState);
		    if (typeof cb !== "undefined") {
		      cb(this);
		    }
		    else {
		    	console.log(this.readyState);
		      // alert('Status: '+this.status+'\nHeaders: '+JSON.stringify(this.getAllResponseHeaders())+'\nBody: '+this.responseText);
		      $("#patient_list").html(this.responseText);
		    }
		  }
		};
		// console.log('Ready State before Send - ' + xhr.readyState);
		xhr.send(null);
		$(document).ready(function(){
			$('body').on("click", "#selectall", function(event) {  //on click
		        if($(this).is(":checked")) { // check select status
		            $('.patients').each(function() { //loop through each checkbox
		                this.checked = true;  //select all checkboxes with class "checkbox1"              
		            });
		        }else{
		            $('.patients').each(function() { //loop through each checkbox
		                this.checked = false; //deselect all checkboxes with class "checkbox1"                      
		            });
		        }
		    });
		    // $('body').on("click", "#sub_patient", function(event) {  //on click
		        // var xhr = new XMLHttpRequest();
		        // xhr.open('POST', '/patients/sendmail/');
		        // xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
		        // // xhr.setRequestHeader("Content-Type", "application/json");
		        // xhr.onreadystatechange = function () {
				  // if (this.readyState == 4) {
				  	// console.log(this.readyState);
				    // if (typeof cb !== "undefined") {
				      // cb(this);
				    // }
				    // else {
				    	// console.log(this.readyState);
				      // // alert('Status: '+this.status+'\nHeaders: '+JSON.stringify(this.getAllResponseHeaders())+'\nBody: '+this.responseText);
				      // $("#patient_list").html(this.responseText);
				    // }
				  // }
				// };
				// // console.log('Ready State before Send - ' + xhr.readyState);
				// xhr.send(JSON.stringify($("form").serialize()));
				// // xhr.send("{ \"name\":\"Sid\", \"mobile\": \"+919900418497\", \"email\": \"sid@practo.com\", \"dob\": \"1988-07-10\" }");
		    // });
		});
	</script>
</head>

<body>
  <div>
    <div id="patient_list">
      Currently Nothing seems to here !!
    </div>

    <footer>
     <p>&copy; Copyright  by Gaurav Kotkar</p>
    </footer>
  </div>
</body>
</html>
